{
	"streamDescriptors": [{
		"name": "cloudsearchDocumentGeneration",
		"partitionScheme": "!{timestamp:yyyy-MM-dd}",
		"format": "JSON",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900
	},
	{
		"name": "fileDownloads",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "PARQUET",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900,
		"tableDescriptor": {
			"name": "fileDownloadsRecords",
			"columns": [{
				"name": "userId",
				"type" : "bigint"
			},
			{
				"name": "timestamp",
				"type" : "timestamp"
			},
			{
				"name": "projectId",
				"type" : "bigint"
			},
			{
				"name": "fileHandleId",
				"type" : "string"
			},
			{
				"name": "associateType",
				"type" : "string"
			},
			{
				"name": "associateId",
				"type" : "string"
			},
			{
				"name": "stack",
				"type" : "string"
			},
			{
				"name": "instance",
				"type" : "string"
			}],
			"partitionKeys":[{
				"name": "year",
				"type" : "string"
			},
			{
				"name": "month",
				"type" : "string"
			},
			{
				"name": "day",
				"type" : "string"
			}]
		}
	},
	{
		"name": "fileUploads",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "PARQUET",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900,
		"tableDescriptor": {
			"name": "fileUploadsRecords",
			"columns": [{
				"name": "userId",
				"type" : "bigint"
			},
			{
				"name": "timestamp",
				"type" : "timestamp"
			},
			{
				"name": "projectId",
				"type" : "bigint"
			},
			{
				"name": "fileHandleId",
				"type" : "string"
			},
			{
				"name": "associateType",
				"type" : "string"
			},
			{
				"name": "associateId",
				"type" : "string"
			},
			{
				"name": "stack",
				"type" : "string"
			},
			{
				"name": "instance",
				"type" : "string"
			}],
			"partitionKeys":[{
				"name": "year",
				"type" : "string"
			},
			{
				"name": "month",
				"type" : "string"
			},
			{
				"name": "day",
				"type" : "string"
			}]
		}
	},
	{
		"name": "fileHandleAssociations",
		"partitionScheme": "dt=!{timestamp:yyyy-MM}",
		"bucket": "${stack}.filehandles.sagebase.org",
		"format": "PARQUET",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900,
		"backupDisabled": true,
		"tableDescriptor": {
			"name": "fileHandleAssociationsRecords",
			"columns": [{
				"name": "timestamp",
				"type" : "timestamp"
			},
			{
				"name": "associateType",
				"type" : "string"
			},
			{
				"name": "associateId",
				"type" : "string"
			},
			{
				"name": "fileHandleId",
				"type" : "string"
			},
			{
				"name": "stack",
				"type" : "string"
			},
			{
				"name": "instance",
				"type" : "string"
			}],
			"partitionKeys":[{
				"name": "dt",
				"type" : "string"
			}],
			"parameters": {
				"projection.enabled": "true",
				"projection.dt.type": "date",
				"projection.dt.format": "yyyy-MM",
				"projection.dt.range": "2020-01,NOW",
				"projection.dt.interval": "1",
				"projection.dt.interval.unit": "MONTHS"
			}
		}
	},
	{
		"name": "fileHandleData",
		"partitionScheme": "dt=!{timestamp:yyyy-MM}",
		"bucket": "${stack}.filehandles.sagebase.org",
		"format": "PARQUET",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900,
		"backupDisabled": true,
		"tableDescriptor": {
			"name": "fileHandleDataRecords",
			"columns": [{
				"name": "id",
				"type" : "bigint"
			},
			{
				"name": "createdOn",
				"type" : "timestamp"
			},
			{
				"name": "updatedOn",
				"type" : "timestamp"
			},
			{
				"name": "status",
				"type" : "string"
			},
			{
				"name": "isPreview",
				"type" : "boolean"
			},
			{
				"name": "contentSize",
				"type" : "bigint"
			},
			{
				"name": "bucket",
				"type" : "string"
			},
			{
				"name": "key",
				"type" : "string"
			},
			{
				"name": "stack",
				"type" : "string"
			},
			{
				"name": "instance",
				"type" : "string"
			}],
			"partitionKeys":[{
				"name": "dt",
				"type" : "string"
			}],
			"parameters": {
				"projection.enabled": "true",
				"projection.dt.type": "date",
				"projection.dt.format": "yyyy-MM",
				"projection.dt.range": "2020-01,NOW",
				"projection.dt.interval": "1",
				"projection.dt.interval.unit": "MONTHS"
			}
		}
	},
	{
		"name": "testStream",
		"devOnly": true,
		"parameterizeDestinationByStack": true,
		"partitionScheme": "dt=!{timestamp:yyyy-MM}",
		"bucket": "${stack}.testdata.sagebase.org",
		"format": "PARQUET",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 60,
		"tableDescriptor": {
			"name": "testStreamRecords",
			"columns": [{
				"name": "id",
				"type" : "bigint"
			},
			{
				"name": "timestamp",
				"type" : "timestamp"
			},
			{
				"name": "someField",
				"type" : "string"
			},
			{
				"name": "stack",
				"type" : "string"
			},
			{
				"name": "instance",
				"type" : "string"
			}],
			"partitionKeys":[{
				"name": "dt",
				"type" : "string"
			}],
			"parameters": {
				"projection.enabled": "true",
				"projection.dt.type": "date",
				"projection.dt.format": "yyyy-MM",
				"projection.dt.range": "2020-01,NOW",
				"projection.dt.interval": "1",
				"projection.dt.interval.unit": "MONTHS"
			}
		}
	},
	{
		"name": "accessRecord",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "JSON",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900
	},
	{
		"name": "nodeSnapshots",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "JSON",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900
	},
	{
		"name": "fileSnapshots",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "JSON",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900
	},
	{
		"name": "teamSnapshots",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "JSON",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900
	},
	{
		"name": "teamMemberSnapshots",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "JSON",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900
	},
	{
		"name": "userGroupSnapshots",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "JSON",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900
	},
	{
		"name": "userProfileSnapshots",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "JSON",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900
	},
	{
		"name": "fileUploadRecords",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "JSON",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900
	},
	{
		"name": "fileDownloadRecords",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "JSON",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900
	},
	{
		"name": "aclSnapshots",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "JSON",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900
	},
	{
		"name": "verificationSubmissionSnapshots",
		"partitionScheme": "year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}",
		"format": "JSON",
		"bufferFlushSize": 64,
		"bufferFlushInterval": 900
	}]
}